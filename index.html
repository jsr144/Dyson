<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dyson Sphere Explorer: A Cosmic Engineering Adventure</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #1a202c;
            --success: #2ecc71;
        }
        
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 90%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1, h2, h3 {
            color: var(--primary);
            font-weight: 700;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 2.2rem;
        }
        
        h2 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.6rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        .game-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .game-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            margin: 0.5rem 0.25rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        .btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-next {
            background-color: var(--secondary);
            float: right;
        }
        
        .btn-prev {
            background-color: var(--primary);
            float: left;
        }
        
        .btn-restart {
            background-color: var(--accent);
            display: block;
            margin: 1rem auto;
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin: 1.5rem 0;
        }
        
        .option {
            flex-basis: 48%;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background-color: #e9ecef;
            border-color: var(--secondary);
        }
        
        .option.selected {
            background-color: rgba(52, 152, 219, 0.2);
            border-color: var(--secondary);
        }
        
        .option.correct {
            background-color: rgba(46, 204, 113, 0.2);
            border-color: var(--success);
        }
        
        .option.incorrect {
            background-color: rgba(231, 76, 60, 0.2);
            border-color: var(--accent);
        }
        
        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 5px;
            display: none;
        }
        
        .feedback.correct {
            background-color: rgba(46, 204, 113, 0.1);
            border-left: 4px solid var(--success);
            display: block;
        }
        
        .feedback.incorrect {
            background-color: rgba(231, 76, 60, 0.1);
            border-left: 4px solid var(--accent);
            display: block;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .stats-display {
            display: flex;
            justify-content: space-between;
            text-align: center;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            background-color: rgba(52, 152, 219, 0.1);
            padding: 0.5rem;
            border-radius: 5px;
        }
        
        .dyson-sphere-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 2rem auto;
        }
        
        .star {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #FFC107, #FF9800);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 30px 10px rgba(255, 193, 7, 0.6);
        }
        
        .dyson-ring {
            position: absolute;
            border: 6px solid rgba(52, 152, 219, 0.7);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
            transition: all 1.5s;
        }
        
        .dyson-panel {
            position: absolute;
            background-color: rgba(52, 152, 219, 0.7);
            border-radius: 2px;
            transform-origin: center;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }
        
        .progress-container {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-bottom: 1rem;
        }
        
        .progress-bar {
            height: 10px;
            border-radius: 5px;
            background-color: var(--secondary);
            width: 0%;
            transition: width 0.5s;
        }
        
        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }
        
        .resource-counter {
            font-size: 1.1rem;
            text-align: right;
            margin-bottom: 1rem;
        }
        
        .resource-animation {
            animation: pulse 0.5s;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .congratulations {
            text-align: center;
            margin: 2rem 0;
        }
        
        .congratulations h2 {
            color: var(--success);
        }
        
        /* Animation for panels */
        @keyframes rotatePanel {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Dyson Sphere Explorer</h1>
        <p class="score-display">Score: <span id="score">0</span></p>
        <div class="stats-display">
            <div>Concept Answers: <span id="concept-count">0</span></div>
            <div>Feasibility Answers: <span id="feasibility-count">0</span></div>
            <div>Importance Answers: <span id="importance-count">0</span></div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- Introduction Section -->
        <div class="game-section active" id="intro">
            <h2>Welcome, Cosmic Engineer!</h2>
            <p>You've been selected to explore the <strong>Dyson Sphere</strong> concept - one of humanity's most ambitious ideas for harnessing stellar energy.</p>
            <p>In this quick adventure, you'll learn:</p>
            <ul>
                <li>What a Dyson Sphere is</li>
                <li>If we could build one</li>
                <li>Why this concept matters</li>
            </ul>
            <p class="resource-counter">Resources: <span id="resources">100</span> units</p>
            <div class="clearfix">
                <button class="btn btn-next" onclick="showSection('concept')">Begin →</button>
            </div>
        </div>
        
        <!-- Concept Section -->
        <div class="game-section" id="concept">
            <h2>The Concept: What is a Dyson Sphere?</h2>
            
            <div class="dyson-sphere-container">
                <div class="star"></div>
                <!-- Dyson components will be added by JavaScript -->
            </div>
            
            <p>In 1960, Freeman Dyson proposed that advanced civilizations might build enormous structures to capture a star's energy output.</p>
            <p>What did Dyson actually propose?</p>
            
            <div class="options">
                <div class="option" onclick="selectOption(this, 'concept', false)">
                    <p>A solid sphere enclosing a star</p>
                </div>
                <div class="option" onclick="selectOption(this, 'concept', true)">
                    <p>A swarm of orbiting solar collectors</p>
                </div>
                <div class="option" onclick="selectOption(this, 'concept', false)">
                    <p>A planet-sized energy extraction machine</p>
                </div>
                <div class="option" onclick="selectOption(this, 'concept', false)">
                    <p>A space vacuum cleaner</p>
                </div>
            </div>
            
            <div class="feedback" id="concept-feedback">
                <p>While often depicted as solid shells in science fiction, Dyson actually proposed a "swarm" of orbiting structures to capture stellar energy. A solid sphere would face enormous engineering challenges and likely collapse under its own gravity.</p>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('intro')">← Back</button>
                <button class="btn btn-next" id="concept-next" style="display: none;" onclick="showSection('feasibility'); addDysonRing();">Continue →</button>
            </div>
        </div>
        
        <!-- Feasibility Section -->
        <div class="game-section" id="feasibility">
            <h2>The Feasibility: Could We Build One?</h2>
            
            <p>What's the biggest challenge to building a Dyson Sphere or Swarm?</p>
            
            <div class="options">
                <div class="option" onclick="selectOption(this, 'feasibility', false)">
                    <p>Finding the right star</p>
                </div>
                <div class="option" onclick="selectOption(this, 'feasibility', false)">
                    <p>Solar energy capture technology</p>
                </div>
                <div class="option" onclick="selectOption(this, 'feasibility', true)">
                    <p>Acquiring enough building material</p>
                </div>
                <div class="option" onclick="selectOption(this, 'feasibility', false)">
                    <p>International cooperation</p>
                </div>
            </div>
            
            <div class="feedback" id="feasibility-feedback">
                <p>Materials present the most staggering challenge. Even for a modest Dyson Swarm, we'd need to dismantle entire planets like Mercury - and that would only get us a partial structure. Other challenges include launching millions of collectors, ensuring stability, and transmitting the energy.</p>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('concept')">← Back</button>
                <button class="btn btn-next" id="feasibility-next" style="display: none;" onclick="showSection('importance'); addMorePanels();">Continue →</button>
            </div>
        </div>
        
        <!-- Importance Section -->
        <div class="game-section" id="importance">
            <h2>The Importance: Why Should We Care?</h2>
            
            <p>What's the most compelling reason to consider Dyson Spheres?</p>
            
            <div class="options">
                <div class="option" onclick="selectOption(this, 'importance', false)">
                    <p>Shielding Earth from radiation</p>
                </div>
                <div class="option" onclick="selectOption(this, 'importance', true)">
                    <p>Energy needs for advanced civilizations</p>
                </div>
                <div class="option" onclick="selectOption(this, 'importance', false)">
                    <p>Science fiction story ideas</p>
                </div>
                <div class="option" onclick="selectOption(this, 'importance', false)">
                    <p>Creating new habitable space</p>
                </div>
            </div>
            
            <div class="feedback" id="importance-feedback">
                <p>Energy is key. A Dyson structure could capture up to 400 septillion watts from our sun - about 2.3 trillion times humanity's current energy consumption. It represents a transition from a Type I civilization (planetary energy) to Type II (stellar energy) on the Kardashev Scale.</p>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('feasibility')">← Back</button>
                <button class="btn btn-next" id="importance-next" style="display: none;" onclick="showSection('build'); completeDysonSwarm();">Let's Build! →</button>
            </div>
        </div>
        
        <!-- Build Section -->
        <div class="game-section" id="build">
            <h2>Build Your Dyson Swarm!</h2>
            
            <div class="dyson-sphere-container" id="buildContainer">
                <div class="star"></div>
                <!-- Panels will be added by JavaScript -->
            </div>
            
            <p>You have 100 resource units. Choose wisely:</p>
            
            <div class="options">
                <button class="btn" onclick="allocateResources('satellites', 20)">Solar Satellites (-20)</button>
                <button class="btn" onclick="allocateResources('energy', 30)">Energy Collection (-30)</button>
                <button class="btn" onclick="allocateResources('transmission', 25)">Energy Transmission (-25)</button>
                <button class="btn" onclick="allocateResources('stability', 35)">Orbital Stability (-35)</button>
            </div>
            
            <p class="resource-counter">Resources: <span id="resources-build">100</span> units</p>
            <p>Energy Collected: <span id="energy-collected">0</span>%</p>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('importance')">← Back</button>
                <button class="btn btn-next" id="build-next" style="display: none;" onclick="showSection('conclusion')">See Results →</button>
            </div>
        </div>
        
        <!-- Conclusion Section -->
        <div class="game-section" id="conclusion">
            <h2>Congratulations, Cosmic Engineer!</h2>
            <div class="congratulations">
                <h3>Final Score: <span id="final-score">0</span>/100</h3>
                <p>Energy Capture: <span id="final-energy">0</span>%</p>
                <p>Total Responses: <span id="total-responses">0</span></p>
            </div>
            
            <p>Dyson Spheres remain speculative, but the concept pushes us to think about humanity's potential future - harnessing the full energy of a star system instead of just a planet.</p>
            
            <p>Key takeaways:</p>
            <ul>
                <li>The scale of available energy in our cosmic neighborhood is staggering</li>
                <li>We're still in the infancy of our technological journey</li>
                <li>Such megastructures represent logical endpoints of our energy needs</li>
            </ul>
            
            <button class="btn btn-restart" onclick="restartGame()">Play Again</button>
        </div>
    </div>

    <script>
        let score = 0;
        let questionAnswered = {
            'concept': false,
            'feasibility': false,
            'importance': false
        };
        let resources = 100;
        let energyCollected = 0;
        
        // Response counters
        let responseCounts = {
            'concept': 0,
            'feasibility': 0,
            'importance': 0
        };
        
        // Game progression
        function showSection(sectionId) {
            document.querySelectorAll('.game-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // Update progress bar
            const sections = ['intro', 'concept', 'feasibility', 'importance', 'build', 'conclusion'];
            const currentIndex = sections.indexOf(sectionId);
            const progressPercent = (currentIndex / (sections.length - 1)) * 100;
            document.getElementById('progressBar').style.width = progressPercent + '%';
        }
        
        // Handle option selection
        function selectOption(element, questionId, isCorrect) {
            // Only allow selection if question hasn't been answered
            if (questionAnswered[questionId]) return;
            
            // Mark question as answered
            questionAnswered[questionId] = true;
            
            // Increment response counter for this section
            responseCounts[questionId]++;
            document.getElementById(questionId + '-count').textContent = responseCounts[questionId];
            
            // Calculate total responses
            const totalResponses = Object.values(responseCounts).reduce((a, b) => a + b, 0);
            document.getElementById('total-responses').textContent = totalResponses;
            
            // Remove any previous selections
            document.querySelectorAll('#' + questionId + ' .option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark the selected option
            element.classList.add('selected');
            
            // Show feedback
            const feedback = document.getElementById(questionId + '-feedback');
            
            if (isCorrect) {
                score += 20;
                element.classList.add('correct');
                feedback.classList.add('correct');
                feedback.classList.remove('incorrect');
                document.getElementById('score').textContent = score;
                document.getElementById('resources').textContent = 100 + score;
                
                // Animate score change
                document.getElementById('score').classList.add('resource-animation');
                setTimeout(() => {
                    document.getElementById('score').classList.remove('resource-animation');
                }, 500);
            } else {
                element.classList.add('incorrect');
                feedback.classList.add('incorrect');
                feedback.classList.remove('correct');
                
                // Find and highlight the correct answer
                document.querySelectorAll('#' + questionId + ' .option').forEach(opt => {
                    if (opt.querySelector('p').textContent.includes(getCorrectAnswer(questionId))) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            feedback.style.display = 'block';
            document.getElementById(questionId + '-next').style.display = 'block';
        }
        
        // Get correct answer text for each question
        function getCorrectAnswer(questionId) {
            const answers = {
                'concept': 'A swarm of orbiting solar collectors',
                'feasibility': 'Acquiring enough building material',
                'importance': 'Energy needs for advanced civilizations'
            };
            return answers[questionId];
        }
        
        // Handle resource allocation
        function allocateResources(type, cost) {
            const resourcesElement = document.getElementById('resources-build');
            const currentResources = parseInt(resourcesElement.textContent);
            
            if (currentResources < cost) {
                alert("Not enough resources!");
                return;
            }
            
            // Deduct resources
            const newResources = currentResources - cost;
            resourcesElement.textContent = newResources;
            
            // Update energy collection based on type
            switch(type) {
                case 'satellites':
                    energyCollected += 15;
                    addSatellites(5);
                    break;
                case 'energy':
                    energyCollected += 25;
                    addSatellites(3);
                    break;
                case 'transmission':
                    energyCollected += 20;
                    addSatellites(2);
                    break;
                case 'stability':
                    energyCollected += 30;
                    addSatellites(4);
                    break;
            }
            
            // Cap energy at 100%
            energyCollected = Math.min(energyCollected, 100);
            document.getElementById('energy-collected').textContent = energyCollected;
            
            // Show next button when resources are depleted or energy reaches 100%
            if (newResources < 20 || energyCollected >= 100) {
                document.getElementById('build-next').style.display = 'block';
                
                // Update final scores
                document.getElementById('final-score').textContent = score + energyCollected;
                document.getElementById('final-energy').textContent = energyCollected;
            }
        }
        
        // Add visual Dyson components
        function addDysonRing() {
            const container = document.querySelector('#concept .dyson-sphere-container');
            const ring = document.createElement('div');
            ring.className = 'dyson-ring';
            ring.style.width = '200px';
            ring.style.height = '200px';
            container.appendChild(ring);
        }
        
        function addMorePanels() {
            const container = document.querySelector('#importance .dyson-sphere-container');
            
            // First add a ring
            const ring = document.createElement('div');
            ring.className = 'dyson-ring';
            ring.style.width = '220px';
            ring.style.height = '220px';
            container.appendChild(ring);
            
            // Add a second ring
            const ring2 = document.createElement('div');
            ring2.className = 'dyson-ring';
            ring2.style.width = '180px';
            ring2.style.height = '180px';
            container.appendChild(ring2);
            
            // Add some panels
            for (let i = 0; i < 12; i++) {
                addPanel(container, 90, i * 30, 12, 8);
                addPanel(container, 110, i * 30 + 15, 12, 8);
            }
        }
        
        function addPanel(container, distance, angle, width, height) {
            const panel = document.createElement('div');
            panel.className = 'dyson-panel';
            panel.style.width = width + 'px';
            panel.style.height = height + 'px';
            
            // Calculate position
            const radians = angle * Math.PI / 180;
            const centerX = 150;
            const centerY = 150;
            const x = centerX + distance * Math.cos(radians) - (width / 2);
            const y = centerY + distance * Math.sin(radians) - (height / 2);
            
            panel.style.left = x + 'px';
            panel.style.top = y + 'px';
            panel.style.transform = `rotate(${angle + 90}deg)`;
            
            container.appendChild(panel);
        }
        
        function completeDysonSwarm() {
            // This function will be called when moving to the build section
            const container = document.getElementById('buildContainer');
            
            // Create three rings
            const ringWidths = [160, 190, 220];
            for (let width of ringWidths) {
                const ring = document.createElement('div');
                ring.className = 'dyson-ring';
                ring.style.width = width + 'px';
                ring.style.height = width + 'px';
                container.appendChild(ring);
            }
        }
        
        function addSatellites(count) {
            const container = document.getElementById('buildContainer');
            const distances = [80, 95, 110];
            
            for (let i = 0; i < count; i++) {
                // Randomly choose a distance
                const distance = distances[Math.floor(Math.random() * distances.length)];
                const angle = Math.random() * 360;
                addPanel(container, distance, angle, 10, 6);
            }
        }
        
        // Restart the game
        function restartGame() {
            score = 0;
            document.getElementById('score').textContent = score;
            energyCollected = 0;
            document.getElementById('energy-collected').textContent = energyCollected;
            resources = 100;
            document.getElementById('resources').textContent = resources;
            document.getElementById('resources-build').textContent = resources;
            
            // Reset question status
            questionAnswered = {
                'concept': false,
                'feasibility': false,
                'importance': false
            };
            
            // Hide all feedback and next buttons
            document.querySelectorAll('.feedback').forEach(el => {
                el.style.display = 'none';
                el.classList.remove('correct', 'incorrect');
            });
            document.querySelectorAll('#concept-next, #feasibility-next, #importance-next, #build-next').forEach(el => {
                el.style.display = 'none';
            });
            
            // Reset all options
            document.querySelectorAll('.option').forEach(el => {
                el.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Remove all Dyson components
            document.querySelectorAll('.dyson-ring, .dyson-panel').forEach(el => {
                el.remove();
            });
            
            // Go back to intro
            showSection('intro');
        }
    </script>
</body>
</html>
