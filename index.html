<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Curiosity Explorer: For Mary's Science Fair Birthday!</title>
    <style>
        :root {
            --primary: #6d28d9;
            --secondary: #ec4899;
            --accent: #f59e0b;
            --light: #fdf2f8;
            --dark: #1e1b4b;
            --success: #10b981;
            --info: #3b82f6;
        }
        
        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            background-image: linear-gradient(120deg, #fdf2f8 0%, #e0f2fe 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 90%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            border: 3px dashed var(--secondary);
        }
        
        h1, h2, h3 {
            color: var(--primary);
            font-weight: 700;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 1.5rem;
            font-size: 2.4rem;
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        h2 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.8rem;
            color: var(--secondary);
        }
        
        p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .birthday-banner {
            text-align: center;
            padding: 1rem;
            background-color: rgba(236, 72, 153, 0.1);
            border-radius: 10px;
            margin-bottom: 1.5rem;
        }
        
        .birthday-banner p {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--secondary);
            margin: 0;
        }
        
        .game-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .game-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            margin: 0.5rem 0.25rem;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            background-color: var(--primary);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }
        
        .btn-next {
            background-color: var(--accent);
            float: right;
        }
        
        .btn-prev {
            background-color: var(--info);
            float: left;
        }
        
        .btn-submit {
            background-color: var(--success);
            display: block;
            margin: 1rem auto;
        }
        
        .btn-restart {
            background-color: var(--primary);
            display: block;
            margin: 1rem auto;
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin: 1.5rem 0;
        }
        
        .option {
            flex-basis: 48%;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: rgba(59, 130, 246, 0.1);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background-color: rgba(59, 130, 246, 0.2);
            border-color: var(--info);
            transform: translateY(-3px);
        }
        
        .option.selected {
            background-color: rgba(236, 72, 153, 0.2);
            border-color: var(--secondary);
        }
        
        .option.correct {
            background-color: rgba(16, 185, 129, 0.2);
            border-color: var(--success);
        }
        
        .option.incorrect {
            background-color: rgba(245, 158, 11, 0.2);
            border-color: var(--accent);
        }
        
        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 15px;
            display: none;
            background-color: rgba(236, 72, 153, 0.1);
            border-left: 4px solid var(--secondary);
        }
        
        .feedback.correct {
            background-color: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--success);
            display: block;
        }
        
        .feedback.incorrect {
            background-color: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--accent);
            display: block;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--primary);
            font-weight: bold;
        }
        
        .cosmic-sphere-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 2rem auto;
            perspective: 1000px;
        }
        
        .star {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #FFC107, #FF9800);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 30px 10px rgba(255, 193, 7, 0.6);
        }
        
        .cosmic-ring {
            position: absolute;
            border: 6px solid rgba(236, 72, 153, 0.7);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            box-shadow: 0 0 10px rgba(236, 72, 153, 0.5);
            transition: all 1.5s;
            animation: rotate 20s linear infinite;
        }
        
        .cosmic-panel {
            position: absolute;
            background-color: rgba(109, 40, 217, 0.7);
            border-radius: 10px;
            transform-origin: center;
            box-shadow: 0 0 5px rgba(109, 40, 217, 0.5);
        }
        
        .progress-container {
            width: 100%;
            background-color: rgba(59, 130, 246, 0.2);
            border-radius: 50px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 15px;
            border-radius: 50px;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            width: 0%;
            transition: width 0.5s;
        }
        
        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }
        
        .resource-counter {
            font-size: 1.1rem;
            text-align: right;
            margin-bottom: 1rem;
            color: var(--primary);
            font-weight: bold;
        }
        
        .resource-animation {
            animation: pulse 0.5s;
        }
        
        .wall-of-facts {
            background-color: rgba(16, 185, 129, 0.1);
            border-radius: 15px;
            padding: 1rem;
            margin: 1.5rem 0;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .wall-of-facts h3 {
            color: var(--success);
            text-align: center;
            border-bottom: 2px dashed var(--success);
            padding-bottom: 0.5rem;
        }
        
        .wall-of-facts ul {
            list-style-type: none;
            padding: 0;
        }
        
        .wall-of-facts li {
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background-color: white;
            border-radius: 10px;
            border-left: 3px solid var(--success);
            font-size: 0.95rem;
        }
        
        .fact-attribution {
            font-style: italic;
            font-size: 0.8rem;
            color: var(--primary);
            margin-top: 0.3rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        input[type="text"], 
        textarea {
            width: 100%;
            padding: 0.8rem;
            border-radius: 10px;
            border: 2px solid rgba(109, 40, 217, 0.3);
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus, 
        textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .input-hint {
            font-size: 0.8rem;
            color: var(--secondary);
            margin-top: 0.3rem;
        }
        
        .congrats-container {
            text-align: center;
            margin: 2rem 0;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--secondary);
            border-radius: 50%;
            animation: confetti-fall 5s linear infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-top: 1rem;
        }
        
        .checkbox-container input[type="checkbox"] {
            margin-right: 0.5rem;
            width: 18px;
            height: 18px;
        }
        
        .checkbox-label {
            font-size: 0.9rem;
            color: var(--primary);
        }
        
        .sparkle {
            display: inline-block;
            animation: sparkle 2s infinite;
        }
        
        @keyframes sparkle {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .mary-says {
            background-color: rgba(236, 72, 153, 0.1);
            border-left: 4px solid var(--secondary);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 15px 15px 0;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="birthday-banner">
            <p><span class="sparkle">✨</span> For Mary's Earth Day Birthday Science Fair! <span class="sparkle">✨</span></p>
        </div>
        
        <h1>Cosmic Curiosity Explorer</h1>
        <p class="score-display">Fun Points: <span id="score">0</span></p>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- Introduction Section -->
        <div class="game-section active" id="intro">
            <h2>Welcome, Science Fair Explorer!</h2>
            <p>Congrats! You've stumbled upon an interactive exhibit about one of the WILDEST ideas humans have ever dreamed up: the <strong>Dyson Sphere</strong>! (Or as Mary calls it, "that thing where we build a giant structure around the sun to capture ALL its energy!")</p>
            
            <div class="mary-says">
                "This is the year my dreams will come true (why not?)" - Mary
            </div>
            
            <p>In the spirit of Mary's Science Fair birthday celebration, this little adventure will let you:</p>
            <ul>
                <li>Learn about a mind-boggling cosmic concept</li>
                <li>Share your own thoughts and curiosities</li>
                <li>See what others have wondered about</li>
                <li>Contribute to our Wall of Good Facts!</li>
            </ul>
            
            <p class="resource-counter">Curiosity Points: <span id="resources">100</span></p>
            <div class="clearfix">
                <button class="btn btn-next" onclick="showSection('concept')">Let's Get Curious! →</button>
            </div>
        </div>
        
        <!-- Concept Section -->
        <div class="game-section" id="concept">
            <h2>The Big Idea: What's a Dyson Sphere?</h2>
            
            <div class="cosmic-sphere-container">
                <div class="star"></div>
                <!-- Cosmic components will be added by JavaScript -->
            </div>
            
            <p>In 1960, a scientist named Freeman Dyson had a thought that was GALAXY BRAIN level. He wondered: "What if super advanced aliens built enormous structures around their stars to catch ALL the energy?"</p>
            
            <p>What do you think this wild concept actually looks like?</p>
            
            <div class="options">
                <div class="option" onclick="selectOption(this, 'concept', false)">
                    <p>A solid sphere completely surrounding a star (like a giant Death Star but around the sun!)</p>
                </div>
                <div class="option" onclick="selectOption(this, 'concept', true)">
                    <p>A swarm of solar panels orbiting a star (like millions of space satellites!)</p>
                </div>
                <div class="option" onclick="selectOption(this, 'concept', false)">
                    <p>A planet-sized cosmic vacuum cleaner that sucks up star energy</p>
                </div>
                <div class="option" onclick="selectOption(this, 'concept', false)">
                    <p>A magical sphere that makes stars last forever (kinda like star recycling)</p>
                </div>
            </div>
            
            <div class="feedback" id="concept-feedback">
                <p>Science fiction loves to show Dyson Spheres as giant solid shells (looking at you, Star Trek!), but Dyson actually proposed a "swarm" of orbiting structures. A solid sphere would probably collapse under its own weight—gravity is no joke!</p>
                <p>This is the perfect example of how sci-fi and real science can inspire each other in the coolest ways.</p>
            </div>
            
            <div class="form-group" id="concept-response" style="display: none;">
                <label for="concept-thought">Share your thoughts or questions about this concept:</label>
                <textarea id="concept-thought" placeholder="This reminds me of... / I wonder if... / Could we actually..."></textarea>
                <p class="input-hint">This will be added to our collection of responses for Mary's Science Fair!</p>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="concept-fact-check">
                    <label for="concept-fact-check" class="checkbox-label">Is this NOT a fact? (Check if you're sharing an opinion, idea, or question rather than a verified fact)</label>
                </div>
                
                <button class="btn btn-submit" onclick="submitResponse('concept')">Add to the Collection</button>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('intro')">← Back</button>
                <button class="btn btn-next" id="concept-next" style="display: none;" onclick="showSection('feasibility'); addCosmicRing();">Explore More →</button>
            </div>
        </div>
        
        <!-- Feasibility Section -->
        <div class="game-section" id="feasibility">
            <h2>Could We Actually Build One?</h2>
            
            <p>Let's get real for a second. If we wanted to build a Dyson Sphere or Swarm, what do you think would be the biggest obstacle?</p>
            
            <div class="options">
                <div class="option" onclick="selectOption(this, 'feasibility', false)">
                    <p>Finding a star that wouldn't mind being surrounded (sun permission?)</p>
                </div>
                <div class="option" onclick="selectOption(this, 'feasibility', false)">
                    <p>Inventing solar panels that work super-duper well in space</p>
                </div>
                <div class="option" onclick="selectOption(this, 'feasibility', true)">
                    <p>Getting enough building materials (like, where do you even get that much stuff?)</p>
                </div>
                <div class="option" onclick="selectOption(this, 'feasibility', false)">
                    <p>Getting all countries to agree on the project (cosmic politics!)</p>
                </div>
            </div>
            
            <div class="feedback" id="feasibility-feedback">
                <p>Materials are the ULTIMATE challenge! Even for a modest Dyson Swarm, we might need to dismantle entire planets. Mercury could be a starter planet, but even that would only get us a partial structure.</p>
                <p>This is literally a "we need to break down planets to build this" level project. Talk about ambitious!</p>
            </div>
            
            <div class="form-group" id="feasibility-response" style="display: none;">
                <label for="feasibility-thought">What wild ideas do you have about how we could solve this building challenge?</label>
                <textarea id="feasibility-thought" placeholder="Maybe we could... / What if we tried... / I think..."></textarea>
                <p class="input-hint">Get creative! Mary loves imaginative solutions!</p>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="feasibility-fact-check">
                    <label for="feasibility-fact-check" class="checkbox-label">Is this NOT a fact? (Check if you're sharing an opinion, idea, or question rather than a verified fact)</label>
                </div>
                
                <button class="btn btn-submit" onclick="submitResponse('feasibility')">Add to the Collection</button>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('concept')">← Back</button>
                <button class="btn btn-next" id="feasibility-next" style="display: none;" onclick="showSection('importance'); addMorePanels();">Onward! →</button>
            </div>
        </div>
        
        <!-- Importance Section -->
        <div class="game-section" id="importance">
            <h2>Why Should We Even Care?</h2>
            
            <p>OK so it's basically impossible to build right now, but why is this concept still worth talking about at Mary's Science Fair?</p>
            
            <div class="options">
                <div class="option" onclick="selectOption(this, 'importance', false)">
                    <p>It would make an excellent space umbrella to cool down Earth</p>
                </div>
                <div class="option" onclick="selectOption(this, 'importance', true)">
                    <p>It represents the ultimate energy source for super advanced civilizations</p>
                </div>
                <div class="option" onclick="selectOption(this, 'importance', false)">
                    <p>It's mostly just a fun thing for sci-fi writers to play with</p>
                </div>
                <div class="option" onclick="selectOption(this, 'importance', false)">
                    <p>We could use it to send messages to aliens more effectively</p>
                </div>
            </div>
            
            <div class="feedback" id="importance-feedback">
                <p>It's all about ENERGY! A completed Dyson structure could capture about 400 septillion watts from our sun. That's roughly 2.3 TRILLION times what all humans currently use. Talk about an upgrade from solar panels on your roof!</p>
                <p>Plus, astronomers think looking for Dyson Spheres might be a way to find advanced alien civilizations. If we see a star that looks dimmer than it should be, maybe aliens built something around it!</p>
            </div>
            
            <div class="form-group" id="importance-response" style="display: none;">
                <label for="importance-thought">What would YOU do with all that energy if we had a Dyson Sphere?</label>
                <textarea id="importance-thought" placeholder="I would use it to... / Imagine if we could... / The best use would be..."></textarea>
                <p class="input-hint">Be as creative or practical as you want!</p>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="importance-fact-check">
                    <label for="importance-fact-check" class="checkbox-label">Is this NOT a fact? (Check if you're sharing an opinion, idea, or question rather than a verified fact)</label>
                </div>
                
                <button class="btn btn-submit" onclick="submitResponse('importance')">Add to the Collection</button>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('feasibility')">← Back</button>
                <button class="btn btn-next" id="importance-next" style="display: none;" onclick="showSection('build'); completeDysonSwarm();">Let's Build Something! →</button>
            </div>
        </div>
        
        <!-- Build Section -->
        <div class="game-section" id="build">
            <h2>Let's Build Our Own Mini Cosmic Structure!</h2>
            
            <div class="cosmic-sphere-container" id="buildContainer">
                <div class="star"></div>
                <!-- Panels will be added by JavaScript -->
            </div>
            
            <p>You have 100 Curiosity Points to use. How would you allocate them?</p>
            
            <div class="options">
                <button class="btn" onclick="allocateResources('satellites', 20)">Add Solar Collectors (-20 points)</button>
                <button class="btn" onclick="allocateResources('energy', 30)">Improve Energy Collection (-30 points)</button>
                <button class="btn" onclick="allocateResources('transmission', 25)">Better Energy Transmission (-25 points)</button>
                <button class="btn" onclick="allocateResources('stability', 35)">Enhance Orbital Stability (-35 points)</button>
            </div>
            
            <p class="resource-counter">Curiosity Points: <span id="resources-build">100</span></p>
            <p>Energy Collected: <span id="energy-collected">0</span>%</p>
            
            <div class="form-group" id="build-response" style="display: none;">
                <label for="build-thought">Share your own cosmic curiosity or a "Good Fact" for Mary's Wall:</label>
                <textarea id="build-thought" placeholder="A cool fact I know is... / I've always wondered about... / Did you know that..."></textarea>
                <p class="input-hint">This can be about Dyson Spheres or ANY science/space topic that fascinates you!</p>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="build-fact-check">
                    <label for="build-fact-check" class="checkbox-label">Is this NOT a fact? (Check if you're sharing an opinion, idea, or question rather than a verified fact)</label>
                </div>
                
                <button class="btn btn-submit" onclick="submitResponse('build')">Add to the Wall of Good Facts</button>
            </div>
            
            <div class="clearfix">
                <button class="btn btn-prev" onclick="showSection('importance')">← Back</button>
                <button class="btn btn-next" id="build-next" style="display: none;" onclick="showSection('conclusion')">See Everyone's Contributions →</button>
            </div>
        </div>
        
        <!-- Conclusion Section -->
        <div class="game-section" id="conclusion">
            <div class="congrats-container">
                <h2>Thanks for Contributing to Mary's Science Fair!</h2>
                <p>Your Fun Points: <span id="final-score">0</span></p>
                <p>Your Energy Collection: <span id="final-energy">0</span>%</p>
            </div>
            
            <div class="wall-of-facts">
                <h3>Wall of Good Facts & Cosmic Curiosities</h3>
                <p style="text-align: center;">See what others have shared at Mary's Science Fair!</p>
                <ul id="fact-wall">
                    <!-- Facts will be added here by JavaScript -->
                </ul>
            </div>
            
            <div class="form-group">
                <label for="name-input">Before you go, tell us your name (so Mary knows who contributed):</label>
                <input type="text" id="name-input" placeholder="Your name">
                
                <label for="final-thought">Any birthday wishes or final thoughts for Mary?</label>
                <textarea id="final-thought" placeholder="Happy Birthday Mary! / I loved learning about... / This made me think about..."></textarea>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="final-fact-check">
                    <label for="final-fact-check" class="checkbox-label">Is this NOT a fact? (Check if you're sharing an opinion, idea, or question rather than a verified fact)</label>
                </div>
                
                <button class="btn btn-submit" onclick="submitFinalThought()">Submit & Celebrate</button>
            </div>
            
            <div class="mary-says">
                "Science fair is an invitation to follow your curiosity. The point is JOY, so only do this if it feels fun!" - Mary
            </div>
            
            <button class="btn btn-restart" onclick="restartGame()">Start Over</button>
        </div>
    </div>

    <script>
        let score = 0;
        let questionAnswered = {
            'concept': false,
            'feasibility': false,
            'importance': false
        };
        let resources = 100;
        let energyCollected = 0;
        let userName = "";
        
        // Store all responses
        let responses = {
            'concept': [],
            'feasibility': [],
            'importance': [],
            'build': [],
            'final': []
        };
        
        // Sample starter facts (could be pre-populated or from a database)
        const starterFacts = [
            {text: "Our sun produces enough energy in one second to meet humanity's power needs for almost 500,000 years!", name: "Mary", isFact: true},
            {text: "I wonder if Dyson Spheres could be used to create artificial habitats with custom climates!", name: "Science Friend", isFact: false},
            {text: "What if we put Dyson Spheres around multiple stars and connected them with space highways?", name: "Cosmic Explorer", isFact: false},
            {text: "I think the first step toward a Dyson Sphere would be building a space elevator to make launching materials cheaper!", name: "Space Engineer", isFact: false}
        ];
        
        // Initialize wall of facts with starter facts
        window.onload = function() {
            for (const fact of starterFacts) {
                addFactToWall(fact.text, fact.name, fact.isFact);
            }
        };
        
        // Game progression
        function showSection(sectionId) {
            document.querySelectorAll('.game-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // Update progress bar
            const sections = ['intro', 'concept', 'feasibility', 'importance', 'build', 'conclusion'];
            const currentIndex = sections.indexOf(sectionId);
            const progressPercent = (currentIndex / (sections.length - 1)) * 100;
            document.getElementById('progressBar').style.width = progressPercent + '%';
        }
        
        // Handle option selection
        function selectOption(element, questionId, isCorrect) {
            // Only allow selection if question hasn't been answered
